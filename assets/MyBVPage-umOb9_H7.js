import{r as o,d as l,j as e,g as c,u as d}from"./index-5qRkxb6d.js";import{G as i,R as m}from"./RefferalOrgNode-Bxz23eRq.js";const h=()=>{const[s,n]=o.useState(null),{user:r}=l();return o.useEffect(()=>{(async()=>{try{const t=await c.get(`${d}users/bv-referral-tree/${r==null?void 0:r.username}`,{headers:{Authorization:`${localStorage.getItem("token")}`}});n(t.data.tree)}catch(t){console.error("Error fetching tree:",t)}})()},[r]),e.jsxs("div",{className:"overflow-auto p-6",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4",children:["BV Referral Tree for ",r==null?void 0:r.username]}),s?e.jsx(i,{lineWidth:"2px",lineColor:"#ccc",lineBorderRadius:"10px",label:e.jsxs("div",{className:"bg-blue-100 p-3 rounded shadow-md text-center border border-blue-300",children:[e.jsx("strong",{children:s.username}),e.jsxs("div",{className:"text-sm",children:[s.package.name," (",s.package.bv," bv)"]}),e.jsxs("div",{className:"text-sm",children:["Total BV: ",s.bv]})]}),children:s.referrals.map(a=>e.jsx(m,{node:a},a.username))}):e.jsx("p",{children:"Loading..."})]})};export{h as default};
