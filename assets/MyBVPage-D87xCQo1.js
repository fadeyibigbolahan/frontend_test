import{r as o,d as l,j as e,g as c,u as d}from"./index-D550lKF-.js";import{G as i,R as x}from"./RefferalOrgNode-DruyF1Cw.js";const m=()=>{const[s,n]=o.useState(null),{user:r}=l();return o.useEffect(()=>{(async()=>{try{const a=await c.get(`${d}users/bv-referral-tree/${r==null?void 0:r.username}`,{headers:{Authorization:`${localStorage.getItem("token")}`}});n(a.data.tree)}catch(a){console.error("Error fetching tree:",a)}})()},[r]),e.jsxs("div",{className:"overflow-auto p-6",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4",children:["BV Referral Tree for ",r==null?void 0:r.username]}),s?e.jsx(i,{lineWidth:"2px",lineColor:"#ccc",lineBorderRadius:"10px",label:e.jsxs("div",{className:"bg-blue-100 p-3 rounded shadow-md text-center border border-blue-300",children:[e.jsx("strong",{children:s.username}),e.jsxs("div",{children:["BV: ",s.bv]}),e.jsxs("div",{children:["Direct Acc BV: ",s.totalBV]})]}),children:s.referrals.map(t=>e.jsx(x,{node:t},t.username))}):e.jsx("p",{children:"Loading..."})]})};export{m as default};
