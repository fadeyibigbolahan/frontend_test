import{r as l,e as j,a as b,j as e,f as N,L as y,g as v,u as F}from"./index-C7V4MshE.js";import{n as E}from"./network-CfNJEYb2.js";const k=()=>{const[t,h]=l.useState({username:"",password:""}),[d,n]=l.useState(""),[m,o]=l.useState(""),[u,c]=l.useState(!1),{login:g}=j(),f=b(),x=i=>{const{name:a,value:r}=i.target;h({...t,[a]:a==="username"?r.trim().toLowerCase():r}),n(""),o("")},p=async i=>{var a,r;if(i.preventDefault(),n(""),o(""),c(!0),!t.username||!t.password){n("⚠️ Username and password are required"),c(!1);return}try{const s=await v.post(`${F}users/login-user`,t),{token:w}=s.data;localStorage.setItem("token",w),g({email:s.data.email||null,username:s.data.username,role:s.data.role,package:s.data.package}),o("✅ Login successful! Redirecting..."),setTimeout(()=>{f("/dashboard")},100)}catch(s){console.error("Login error:",s),n(((r=(a=s.response)==null?void 0:a.data)==null?void 0:r.message)||"❌ Login failed! Please check your credentials.")}finally{c(!1)}};return e.jsxs("div",{className:"flex h-screen w-full flex-col gap-y-4 md:flex-row",children:[e.jsx("div",{className:"hidden h-full w-[60%] items-center justify-center bg-[#F5F6FA] md:flex",children:e.jsx("div",{className:"w-[60%] shadow-md",children:e.jsx("img",{src:E,alt:"Network",style:{width:"100%",height:"300px"}})})}),e.jsx("div",{className:"h-full w-full bg-[#FFFFFF] md:w-[40%]",children:e.jsx("div",{className:"flex min-h-screen items-center justify-center",children:e.jsxs("div",{className:"flex w-full flex-col items-center justify-center rounded-xl bg-white p-8",children:[e.jsx("img",{src:N,alt:"Foodie Logo",style:{width:"100px"}}),e.jsx("h2",{className:"mb-4 text-center text-2xl font-semibold",children:"Welcome Back!"}),e.jsx("h2",{className:"mb-4 text-center text-sm font-semibold text-[#22C55E]",children:"Please sign in to your FWG account"}),m&&e.jsx("p",{className:"mb-2 text-center text-sm text-green-600",children:m}),d&&e.jsx("p",{className:"mb-2 text-center text-sm text-red-500",children:d}),e.jsxs("form",{onSubmit:p,className:"w-full",children:[e.jsx("div",{className:"mb-4 w-full",children:e.jsx("input",{type:"text",name:"username",value:t.username,onChange:x,className:"mt-1 w-full rounded border bg-[#E8F0FE] p-2",placeholder:"Enter your username"})}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"password",name:"password",value:t.password,onChange:x,className:"mt-1 w-full rounded border bg-[#E8F0FE] p-2",placeholder:"Enter your password"})}),e.jsx("button",{type:"submit",className:"w-full rounded bg-[#22C55E] py-2 text-white hover:bg-blue-600",disabled:u,children:u?"Logging in...":"Login"})]}),e.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["Don't have an account?"," ",e.jsx(y,{to:"/signup",className:"text-[#22C55E]",children:"Sign up"})]})]})})})]})};export{k as default};
